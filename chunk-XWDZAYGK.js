import{a as R,b as U,e as A,g as B,h as $,i as z,j as G,m as Y}from"./chunk-PQIKUA7F.js";import{a as J}from"./chunk-MW2DTLW7.js";import{a as H}from"./chunk-FCDYOZVY.js";import{$ as w,C as D,I,J as h,K as v,M as F,N as C,O as E,P as b,Q as t,R as i,S as s,W as S,Y as p,_ as u,ba as r,ca as M,da as x,ia as N,ja as j,k as y,ka as P,l as f,m as g,n as k,o as T,qa as V,ra as L,s as c,va as O,y as a}from"./chunk-3JUY4M7M.js";import"./chunk-2NFLSA4Y.js";var K=()=>[10,20,30],X=(o,l)=>l.id;function Z(o,l){if(o&1){let e=S();t(0,"div",20)(1,"div")(2,"div",43)(3,"label",44),r(4,"Experience Level"),i(),t(5,"span",45),r(6),i()(),t(7,"input",46),p("ngModelChange",function(d){f(e);let m=u();return g(m.yearsOfExperience.set(d))}),i()(),t(8,"div")(9,"label",26),r(10,"Target Role"),i(),t(11,"input",47),p("ngModelChange",function(d){f(e);let m=u();return g(m.primaryTechnology.set(d))}),i()(),t(12,"div")(13,"label",26),r(14,"Focus Topics"),i(),t(15,"input",48),p("ngModelChange",function(d){f(e);let m=u();return g(m.secondarySkills.set(d))}),i()()()}if(o&2){let e=u();a(6),x("",e.yearsOfExperience()," Years"),a(),b("ngModel",e.yearsOfExperience()),a(4),b("ngModel",e.primaryTechnology()),a(4),b("ngModel",e.secondarySkills())}}function ee(o,l){if(o&1&&(t(0,"div",55)(1,"div",56),s(2,"i",57),t(3,"span",58),r(4),i()(),s(5,"i",59),i()),o&2){let e=u(2);a(4),M(e.resumeFileName())}}function te(o,l){if(o&1){let e=S();t(0,"div",21)(1,"label",49)(2,"div",50),s(3,"i",51),i(),t(4,"span",52),r(5,"Click to upload PDF Resume"),i(),t(6,"span",53),r(7,"Maximum size 5MB"),i(),t(8,"input",54),p("change",function(d){f(e);let m=u();return g(m.onFileSelected(d))}),i()(),h(9,ee,6,1,"div",55),i()}if(o&2){let e=u();a(9),v(e.resumeFileName()?9:-1)}}function ie(o,l){if(o&1){let e=S();t(0,"button",60),p("click",function(){let d=f(e).$implicit,m=u();return g(m.interviewDuration.set(d))}),r(1),i()}if(o&2){let e=l.$implicit,n=u();w("bg-blue-600",n.interviewDuration()===e)("text-white",n.interviewDuration()===e)("shadow-lg",n.interviewDuration()===e)("shadow-blue-500/25",n.interviewDuration()===e)("border-transparent",n.interviewDuration()===e),a(),x(" ",e," min ")}}function ne(o,l){if(o&1&&(t(0,"div",35)(1,"p",61),s(2,"i",62),r(3),i()()),o&2){let e=u();a(3),x(" ",e.error()," ")}}function re(o,l){o&1&&(t(0,"span",37),s(1,"i",63),r(2," Preparing AI... "),i())}function oe(o,l){o&1&&(t(0,"span",37),r(1," Start Interview "),s(2,"i",64),i())}function ae(o,l){if(o&1&&(t(0,"div",65)(1,"div",66),s(2,"div",67),k(),t(3,"svg",68),s(4,"circle",69)(5,"circle",70),i(),T(),t(6,"div",71)(7,"span",72),r(8),i(),t(9,"span",73),r(10,"Score"),i()()(),t(11,"div",74)(12,"div",75)(13,"h3",76),r(14),i(),t(15,"div",77)(16,"span",78),s(17,"i",79),r(18),i(),t(19,"span",78),s(20,"i",80),r(21),i()()(),t(22,"p",81),r(23),i(),t(24,"div",82)(25,"span",83),s(26,"i",84),r(27),j(28,"date"),i()()(),t(29,"div",85)(30,"button",86),s(31,"i",87),i()()()),o&2){let e=l.$implicit;a(5),w("text-green-400",(e.overallScore||0)>=80)("text-yellow-400",(e.overallScore||0)>=50&&(e.overallScore||0)<80)("text-red-400",(e.overallScore||0)<50),I("stroke-dasharray",2*3.14*36)("stroke-dashoffset",2*3.14*36*(1-(e.overallScore||0)/100)),a(3),x(" ",e.overallScore||0," "),a(6),x(" ",e.config.primaryTechnology||"Technical Interview"," "),a(4),x(" ",e.config.interviewDuration,"m "),a(3),x(" ",e.config.language," "),a(2),x(" ",e.overallFeedback||"No detailed feedback recorded for this session."," "),a(4),x(" ",P(28,14,e.date,"medium")," ")}}function le(o,l){if(o&1&&(t(0,"div",41),C(1,ae,32,17,"div",65,X),i()),o&2){let e=u();a(),E(e.history())}}function se(o,l){o&1&&(t(0,"div",42)(1,"div",88),s(2,"i",89),i(),t(3,"h3",90),r(4,"No Past Interviews"),i(),t(5,"p",91),r(6," Your interview history will appear here once you complete your first session. "),i()())}var Q=class o{constructor(){this.stateService=y(J);this.authService=y(H);this.router=y(O);this.setupMethod=c("form");this.primaryTechnology=c("");this.secondarySkills=c("e.g. JavaScript, Python, React, System Design");this.yearsOfExperience=c(2);this.interviewDuration=c(10);this.language=c("English");this.resumeText=c("");this.resumeFileName=c(null);this.isLoading=c(!1);this.error=c(null);this.currentUser=this.authService.currentUser;this.history=this.stateService.history}async onFileSelected(l){let e=l.target.files[0];if(e)if(this.resumeFileName.set(e.name),e.type==="text/plain"){let n=await e.text();this.resumeText.set(n)}else if(e.type==="application/pdf")try{this.isLoading.set(!0);let n=await this.extractTextFromPDF(e);this.resumeText.set(n)}catch(n){this.error.set("Failed to parse PDF: "+n.message),this.resumeFileName.set(null)}finally{this.isLoading.set(!1)}else this.error.set("Only .txt and .pdf are currently supported for parsing. Please convert your resume to PDF."),this.resumeFileName.set(null)}async extractTextFromPDF(l){let e=await l.arrayBuffer(),n=await import("./chunk-2C2LIJ2N.js");n.GlobalWorkerOptions.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${n.version}/build/pdf.worker.min.mjs`;let d=await n.getDocument({data:e}).promise,m="";for(let _=1;_<=d.numPages;_++){let W=(await(await d.getPage(_)).getTextContent()).items.map(q=>q.str).join(" ");m+=W+`
`}return m}startInterview(){this.isLoading.set(!0),this.error.set(null);let l=this.authService.currentUser();if(!l){this.router.navigate(["/login"]);return}let e={primaryTechnology:this.primaryTechnology(),secondarySkills:this.secondarySkills(),yearsOfExperience:this.yearsOfExperience(),interviewDuration:this.interviewDuration(),language:this.language(),resumeText:this.setupMethod()==="resume"?this.resumeText():void 0},n={id:crypto.randomUUID(),userId:l.id,date:new Date().toISOString(),config:e,chatHistory:[],evaluatedQuestions:[],startTime:Date.now()};this.stateService.startInterview(n),this.router.navigate(["/interview"])}logout(){this.authService.logout(),this.router.navigate(["/"])}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=D({type:o,selectors:[["app-setup"]],decls:63,vars:24,consts:[[1,"max-w-7xl","mx-auto","p-6","md:p-8"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-12","animate-fade-in"],[1,"text-5xl","font-extrabold","text-white","mb-2","tracking-tight"],[1,"text-gradient"],[1,"text-slate-400","text-lg","font-light"],[1,"mt-6","md:mt-0"],[1,"group","flex","items-center","gap-2","px-6","py-3","rounded-full","glass-card","hover:bg-red-500/10","hover:border-red-500/30","text-slate-300","hover:text-red-400","transition-all","duration-300",3,"click"],[1,"fas","fa-sign-out-alt","group-hover:-translate-x-1","transition-transform"],[1,"font-medium"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-1","space-y-8","animate-fade-in",2,"animation-delay","0.1s"],[1,"text-2xl","font-bold","text-white","mb-6","flex","items-center"],[1,"w-10","h-10","rounded-full","bg-blue-500/20","flex","items-center","justify-center","mr-3","border","border-blue-500/30"],[1,"fas","fa-plus","text-blue-400"],[1,"glass","p-8","rounded-3xl","border","border-white/10","relative","overflow-hidden","group","hover:border-blue-500/30","transition-colors","duration-500"],[1,"absolute","-top-10","-right-10","w-32","h-32","bg-blue-500/20","rounded-full","blur-3xl","pointer-events-none"],[1,"flex","bg-slate-900/50","rounded-xl","p-1","mb-8","border","border-white/5"],[1,"flex-1","py-2.5","rounded-lg","text-xs","font-bold","uppercase","tracking-wider","text-slate-400","transition-all","duration-300",3,"click"],[1,"fas","fa-sliders-h","mr-2"],[1,"fas","fa-file-upload","mr-2"],[1,"space-y-6","animate-fade-in"],[1,"space-y-4","animate-fade-in"],[1,"mt-8","space-y-5","border-t","border-white/5","pt-6"],[1,"block","text-xs","font-bold","text-slate-400","uppercase","tracking-wider","mb-3"],[1,"grid","grid-cols-3","gap-3"],[1,"border","border-white/5","bg-slate-900/30","text-slate-400","text-sm","font-medium","py-2.5","rounded-lg","hover:bg-white/5","hover:text-white","transition-all","duration-200",3,"bg-blue-600","text-white","shadow-lg","shadow-blue-500/25","border-transparent"],[1,"block","text-xs","font-bold","text-slate-400","uppercase","tracking-wider","mb-2"],[1,"relative"],[1,"w-full","appearance-none","input-premium","text-white","text-sm","rounded-xl","px-4","py-3","cursor-pointer",3,"ngModelChange","ngModel"],["value","English"],["value","Hindi"],["value","Hinglish"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-4","pointer-events-none","text-slate-400"],[1,"fas","fa-chevron-down","text-xs"],[1,"mt-8"],[1,"bg-red-500/10","border","border-red-500/20","rounded-lg","p-3","mb-4","animate-fade-in"],[1,"group","w-full","bg-gradient-to-r","from-blue-600","to-purple-600","hover:from-blue-500","hover:to-purple-500","text-white","font-bold","py-4","rounded-xl","shadow-lg","shadow-blue-500/30","transition-all","transform","hover:scale-[1.02]","active:scale-[0.98]","disabled:opacity-70","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"lg:col-span-2","space-y-8","animate-fade-in",2,"animation-delay","0.2s"],[1,"w-10","h-10","rounded-full","bg-purple-500/20","flex","items-center","justify-center","mr-3","border","border-purple-500/30"],[1,"fas","fa-history","text-purple-400"],[1,"grid","gap-5"],[1,"glass","rounded-3xl","border","border-white/5","text-center","flex","flex-col","items-center","justify-center","py-20","animate-fade-in"],[1,"flex","justify-between","items-end","mb-2"],[1,"text-xs","font-bold","text-slate-400","uppercase","tracking-wider"],[1,"text-blue-400","font-mono","font-bold","text-sm","bg-blue-500/10","px-2","py-0.5","rounded"],["type","range","min","0","max","15",1,"w-full","h-2","bg-slate-700/50","rounded-lg","appearance-none","cursor-pointer","accent-blue-500","hover:accent-blue-400","transition-all",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g. Senior Frontend Engineer",1,"w-full","input-premium","rounded-xl","px-4","py-3","text-white","placeholder-slate-500","focus:placeholder-slate-400",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g. React, Performance, System Design",1,"w-full","input-premium","rounded-xl","px-4","py-3","text-white","placeholder-slate-500","focus:placeholder-slate-400",3,"ngModelChange","ngModel"],[1,"group","block","w-full","h-40","border-2","border-dashed","border-slate-600/50","rounded-2xl","flex","flex-col","items-center","justify-center","cursor-pointer","hover:border-blue-500/50","hover:bg-blue-500/5","transition-all","duration-300"],[1,"w-12","h-12","bg-slate-800","rounded-full","flex","items-center","justify-center","mb-3","group-hover:scale-110","transition-transform","duration-300","shadow-xl","shadow-black/20"],[1,"fas","fa-cloud-upload-alt","text-xl","text-blue-400"],[1,"text-sm","font-medium","text-slate-300","group-hover:text-white","transition-colors"],[1,"text-xs","text-slate-500","mt-1"],["type","file","accept",".pdf",1,"hidden",3,"change"],[1,"flex","items-center","justify-between","text-sm","text-blue-300","bg-blue-500/10","border","border-blue-500/20","p-3","rounded-xl","animate-fade-in"],[1,"flex","items-center","overflow-hidden"],[1,"fas","fa-file-pdf","mr-3","text-lg"],[1,"truncate"],[1,"fas","fa-check-circle","text-green-400","ml-2"],[1,"border","border-white/5","bg-slate-900/30","text-slate-400","text-sm","font-medium","py-2.5","rounded-lg","hover:bg-white/5","hover:text-white","transition-all","duration-200",3,"click"],[1,"text-xs","text-red-400","text-center","flex","items-center","justify-center","gap-2"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-arrow-right","group-hover:translate-x-1","transition-transform"],[1,"glass-card","p-6","rounded-2xl","flex","flex-col","md:flex-row","items-center","gap-6","group","hover:border-purple-500/30","cursor-default"],[1,"relative","w-20","h-20","flex-shrink-0","group-hover:scale-110","transition-transform","duration-300"],[1,"absolute","inset-0","rounded-full","bg-white/5","blur-md"],[1,"w-full","h-full","transform","-rotate-90","relative","z-10"],["cx","40","cy","40","r","36","stroke","rgba(255,255,255,0.1)","stroke-width","6","fill","transparent"],["cx","40","cy","40","r","36","stroke","currentColor","stroke-width","6","fill","transparent","stroke-linecap","round"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","z-10"],[1,"font-bold","text-xl","text-white","tracking-tighter","leading-none"],[1,"text-[10px]","uppercase","text-slate-400","font-bold"],[1,"flex-grow","text-center","md:text-left","space-y-2"],[1,"flex","flex-wrap","items-center","justify-center","md:justify-start","gap-3"],[1,"font-bold","text-white","text-xl","tracking-tight","group-hover:text-blue-400","transition-colors"],[1,"flex","gap-2"],[1,"text-xs","font-bold","px-2.5","py-1","rounded-md","bg-slate-800","text-slate-300","border","border-white/5"],[1,"far","fa-clock","mr-1","text-slate-400"],[1,"fas","fa-language","mr-1","text-slate-400"],[1,"text-sm","text-slate-400","leading-relaxed","max-w-2xl"],[1,"flex","items-center","justify-center","md:justify-start","gap-4","pt-1"],[1,"text-xs","text-slate-500","font-mono"],[1,"far","fa-calendar-alt","mr-1"],[1,"flex-shrink-0","opacity-0","group-hover:opacity-100","transition-opacity","duration-300","transform","translate-x-4","group-hover:translate-x-0"],[1,"w-10","h-10","rounded-full","bg-white/5","flex","items-center","justify-center","hover:bg-white/10","text-white","transition-colors"],[1,"fas","fa-chevron-right"],[1,"w-20","h-20","bg-slate-800/50","rounded-full","flex","items-center","justify-center","mb-6","border","border-white/5","shadow-inner"],[1,"fas","fa-history","text-3xl","text-slate-600"],[1,"text-xl","font-bold","text-white","mb-2"],[1,"text-slate-400","max-w-sm","mx-auto","leading-relaxed"]],template:function(e,n){if(e&1&&(t(0,"div",0)(1,"header",1)(2,"div")(3,"h1",2),r(4," Hello, "),t(5,"span",3),r(6),i()(),t(7,"p",4),r(8,"Ready to ace your next technical interview?"),i()(),t(9,"div",5)(10,"button",6),p("click",function(){return n.logout()}),s(11,"i",7),t(12,"span",8),r(13,"Logout"),i()()()(),t(14,"div",9)(15,"div",10)(16,"h2",11)(17,"div",12),s(18,"i",13),i(),r(19," New Interview "),i(),t(20,"div",14),s(21,"div",15),t(22,"div",16)(23,"button",17),p("click",function(){return n.setupMethod.set("form")}),s(24,"i",18),r(25," Config "),i(),t(26,"button",17),p("click",function(){return n.setupMethod.set("resume")}),s(27,"i",19),r(28," Resume "),i()(),h(29,Z,16,4,"div",20)(30,te,10,1,"div",21),t(31,"div",22)(32,"div")(33,"label",23),r(34,"Duration"),i(),t(35,"div",24),C(36,ie,2,11,"button",25,F),i()(),t(38,"div")(39,"label",26),r(40,"Interviewer Language"),i(),t(41,"div",27)(42,"select",28),p("ngModelChange",function(m){return n.language.set(m)}),t(43,"option",29),r(44,"English"),i(),t(45,"option",30),r(46,"Hindi"),i(),t(47,"option",31),r(48,"Hinglish"),i()(),t(49,"div",32),s(50,"i",33),i()()()(),t(51,"div",34),h(52,ne,4,1,"div",35),t(53,"button",36),p("click",function(){return n.startInterview()}),h(54,re,3,0,"span",37)(55,oe,3,0,"span",37),i()()()(),t(56,"div",38)(57,"h2",11)(58,"div",39),s(59,"i",40),i(),r(60," Past Performance "),i(),h(61,le,3,0,"div",41)(62,se,7,0,"div",42),i()()()),e&2){let d;a(6),M((d=n.currentUser())==null?null:d.name),a(17),w("bg-blue-600",n.setupMethod()==="form")("shadow-lg",n.setupMethod()==="form")("shadow-blue-500/25",n.setupMethod()==="form")("text-white",n.setupMethod()==="form"),a(3),w("bg-blue-600",n.setupMethod()==="resume")("shadow-lg",n.setupMethod()==="resume")("shadow-blue-500/25",n.setupMethod()==="resume")("text-white",n.setupMethod()==="resume"),a(3),v(n.setupMethod()==="form"?29:30),a(7),E(N(23,K)),a(6),b("ngModel",n.language()),a(10),v(n.error()?52:-1),a(),b("disabled",n.isLoading()),a(),v(n.isLoading()?54:55),a(7),v(n.history().length>0?61:62)}},dependencies:[L,Y,z,G,R,B,$,U,A,V],encapsulation:2,changeDetection:0})}};export{Q as SetupComponent};
