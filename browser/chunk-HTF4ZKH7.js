import{g as l,na as S,s as c}from"./chunk-HJS4A3WU.js";import{a as n,b as a}from"./chunk-2NFLSA4Y.js";var u=class t{constructor(){this.USERS_KEY="interviewace_users";this.SESSION_KEY="interviewace_session";this.currentUser=c(this.loadSession());this.isLoggedIn=S(()=>!!this.currentUser())}loadSession(){let e=localStorage.getItem(this.SESSION_KEY);return e?JSON.parse(e):null}signup(e){let r=this.getUsers();if(r.some(s=>s.email===e.email))return!1;let o=a(n({},e),{id:crypto.randomUUID()});return r.push(o),localStorage.setItem(this.USERS_KEY,JSON.stringify(r)),this.login(e.email,e.password),!0}login(e,r){let s=this.getUsers().find(i=>i.email===e&&i.password===r);return s?(localStorage.setItem(this.SESSION_KEY,JSON.stringify(s)),this.currentUser.set(s),!0):!1}logout(){localStorage.removeItem(this.SESSION_KEY),this.currentUser.set(null)}getUsers(){let e=localStorage.getItem(this.USERS_KEY);return e?JSON.parse(e):[]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}};export{u as a};
