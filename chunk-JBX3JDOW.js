import{a as c}from"./chunk-HTF4ZKH7.js";import{g as r,k as o,na as a,s as n}from"./chunk-HJS4A3WU.js";var l=class i{constructor(){this.authService=o(c);this.HISTORY_KEY="interviewace_history";this.activeSession=n(null);this.history=a(()=>{let e=this.authService.currentUser();return e?this.getAllHistory().filter(s=>s.userId===e.id).sort((s,v)=>v.startTime-s.startTime):[]})}startInterview(e){this.activeSession.set(e)}finishInterview(){let e=this.activeSession();if(e&&this.authService.currentUser()){let t=this.getAllHistory();t.push(e),localStorage.setItem(this.HISTORY_KEY,JSON.stringify(t))}}getAllHistory(){let e=localStorage.getItem(this.HISTORY_KEY);return e?JSON.parse(e):[]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=r({token:i,factory:i.\u0275fac,providedIn:"root"})}};export{l as a};
